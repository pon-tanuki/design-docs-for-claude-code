---
description: 既存テンプレートを更新し、メタデータを自動更新
argument-hint: <テンプレートパス> <変更内容>
allowed-tools: ["Read", "Write"]
---

**$1** のテンプレートを更新します。

## 実行手順

### 1. テンプレートファイルの読み込み

$1 を読み込みます。

### 2. 内容の更新

$2 に基づいて内容を更新します。

**更新時の注意**:
- 既存の構造を維持
- プレースホルダーを保持
- 見出し階層を維持
- コード例の実践性を確保

### 3. メタデータの自動更新

#### 最終更新日の更新
```markdown
- **最終更新日**: YYYY-MM-DD  # 今日の日付に更新
```

#### バージョンの更新
セマンティックバージョニングに従って更新：
- **破壊的変更**: メジャーバージョンアップ (1.0.0 → 2.0.0)
- **機能追加・セクション追加**: マイナーバージョンアップ (1.0.0 → 1.1.0)
- **軽微な修正・改善**: パッチバージョンアップ (1.0.0 → 1.0.1)

#### 変更履歴の追加
ドキュメント末尾の変更履歴テーブルに新しいエントリを追加：
```markdown
| バージョン | 日付 | 変更者 | 変更内容 |
|-----------|------|--------|----------|
| X.Y.Z     | YYYY-MM-DD | [変更者名] | $2 |
```

### 4. 品質チェック

更新後、以下を確認：
- [ ] 見出し階層が正しい
- [ ] コードブロックに言語指定がある
- [ ] Mermaid図の構文が正しい
- [ ] プレースホルダーが一貫している
- [ ] リンクが有効
- [ ] 最終更新日が今日の日付
- [ ] バージョンが適切に更新されている
- [ ] 変更履歴に新しいエントリが追加されている

### 5. 関連ドキュメントの確認

変更が他のテンプレートに影響する場合は報告：
```
⚠️ 以下のテンプレートも更新が必要な可能性があります:
- templates/XX_phase/related_template.md
```

### 6. 完了メッセージ

```
✅ テンプレート更新完了

📄 ファイル: $1
📝 変更内容: $2
📅 更新日: YYYY-MM-DD
🔢 バージョン: X.Y.Z → X.Y.Z+1

主な変更点:
- [具体的な変更内容1]
- [具体的な変更内容2]
```

## 使用例

### 例1: コード例の追加
```
/update-template templates/02_design/system_design.md 認証フローのシーケンス図を追加
```

### 例2: セクションの追加
```
/update-template templates/03_development/coding_standards.md エラーハンドリングのベストプラクティスセクションを追加
```

### 例3: 軽微な修正
```
/update-template templates/01_planning/project_overview.md 誤字脱字の修正
```

## 注意事項

### プレースホルダーの保持
更新時はプレースホルダーを維持：
- `[プロジェクト名]` → そのまま
- `[あなたの名前]` → そのまま
- `YYYY-MM-DD` → そのまま

### 一貫性の維持
- 既存のコードスタイルを維持
- 用語の統一
- フォーマットの統一

### 小規模プロジェクト向け
- 過度に複雑にしない
- 実践的な内容を維持
- コピペで使える状態を保つ
